<html>

<head>
  <link rel="Website Icon" type="png" href="logo_pnp.png">
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Create New Gun</title>

  <!-- Ikaw ba nag lagay nito? -alvin -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-aFq/bzH65dt+w6FI2ooMVUpc+21e0SRygnTpmBvdBgSdnuTN7QbdgL+OapgHtvPp" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha2/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-qKXV1j0HvMUeCBQ+QVp7JcfGl760yU08IQ+GpUo5hlbpg51QRiuqHAJz8+BrxE/N"
    crossorigin="anonymous"></script>
</head>

<body>

  <div class="container">

    <form method="POST" action="/create">

      <h2 class="text-center mb-4 mt-4">Gun Registration</h2>
      <div class="row jumbotron shadow-lg p-3 mb-4 bg-body-tertiary rounded border">

        <% if (typeof ErrorMessage !== 'undefined') { %>
        <p style="color: red;">
          <%= ErrorMessage %>
        </p>
        <% } else if (typeof SuccessMessage !== 'undefined') { %>
        <p style="color: green;">
          <%= SuccessMessage %>
        </p>
        <% } %>

        <div class="col-sm-4 form-group">
          <label  >Last Name</label>
          <input type="text" class="form-control" placeholder="Enter your last name." id="lastName"
            name="lastName" autocomplete="LastName" required min="4" 
           >
        </div>

        <div class="col-sm-4 form-group">
          <label for="inputPassword4">First Name</label>
          <input type="text" class="form-control" placeholder="Enter your first name." id="firstName"
            name="firstName" autocomplete="firstName" required min="4" pattern="^[A-Z][a-zA-Z\s-]*[^<>()0-9]*$">
        </div>

        <div class="col-sm-4 form-group">
          <label for="inputPassword4">Middle Name</label>
          <input type="text" class="form-control" placeholder="Enter your middle name." id="middleName"
            name="middleName" autocomplete="middleName" required min="4" pattern="^[A-Z][a-zA-Z\s-]*[^<>()0-9]*$">
        </div>

        <div class="col-sm-4 form-group">
          <label for="inputPassword4">QLFR</label>
          <input type="text" class="form-control" placeholder="Enter QLFR" id="QLFR" name="QLFR" autocomplete="QLFR" pattern="^[A-Z][a-zA-Z\s-]*[^<>()0-9]*$">
        </div>

        <div class="col-sm-4 form-group">
          <label for="inputPassword4">email</label>
          <input type="email" class="form-control" placeholder="Enter email" id="email" name="email" autocomplete="email" pattern="^[A-Z][a-zA-Z\s-]*[^<>()0-9]*$">
        </div>

        <div class="col-sm-4 form-group">
          <label for="inputPassword4">Phone Number</label>
          <input type="text" class="form-control" placeholder="Enter Phone number 09" id="phoneNumber"
            name="phoneNumber" autocomplete="phoneNumber" required min="4" pattern="^[0-9]+$">
        </div>

       
        <div class="col-sm-4 form-group">
          <label for="inputZip">Address</label>
          <input type="text" class="form-control" id="address" name="address" placeholder="House No. street, brgy" pattern="^[A-Z][a-zA-Z\s-]*$">
        </div> 

        <div class="col-sm-4 form-group">
          <label >Age</label>
          <input type="text" class="form-control" placeholder="Enter the Age" id="age"
            name="age" autocomplete="age" required min="4" pattern="^[0-9]+$">
        </div>

        

        <div class="col-sm-4 form-group">
          <label  >Office</label>
          <input type="text" class="form-control" placeholder="Office" name="office" autocomplete="office"
            required min="4" pattern="^[A-Z][a-zA-Z]*[^<>()]*$">
        </div>

        <div class="col-sm-4 form-group">
          <label for="inputZip">Gender</label>
            <select id="gender" name="gender" class="form-control" required>
              <option value="Choose from this list">.....</option>
              <option value="Male">Male</option>
              <option value="Female">Female</option>
            </select>
        </div>

        <div class="col-sm-4 form-group">
          <label for="inputZip">Status</label>
            <select id="status" name="status" class="form-control" required>
              <option value="Choose from this list">.....</option>
              <option value="Active">Active</option>
              <option value="Retired">retired</option>
            </select>
        </div>

        <div class="col-sm-4 form-group">
          <label for="inputZip">Civil Status</label>
            <select id="civilStatus" name="civilStatus" class="form-control" required>
              <option value="Choose from this list">.....</option>
              <option value="Single">Single </option>
              <option value="Married">Married</option>
            </select>
        </div>

        <div class="col-sm-4 form-group">
          <label for="inputZip">Rank</label>
          <input type="text" class="form-control" id="rank" name="rank" placeholder="Enter rank" pattern="^[A-Z][a-zA-Z\s-]*$">
        </div>

        <div class="col-sm-4 form-group">
          <label  >Gun Type</label>
          <input type="text" class="form-control" placeholder="Enter gun type." name="Gtype" autocomplete="Gtype"
            required min="4" pattern="^[A-Z][a-zA-Z\s-]*[^<>()0-9]*$">
        </div>

        <div class="col-sm-4 form-group">
          <label  >Gun Name</label>
          <input type="text" class="form-control" placeholder="Enter gun name." name="Gname" autocomplete="Gname"
            required min="4" pattern="^[A-Z][A-Za-z1-9@#$%!&*\s]*[^<>()]*$">
        </div>

        <div class="col-sm-4 form-group">
          <label  >Caliber</label>
          <input type="text" class="form-control" placeholder="Enter caliber" name="caliber" autocomplete="caliber"
            required min="4" pattern="^[0-9][A-Z0-9\s-]*[^<>()!@#$%^&]*$">
        </div>

        <div class="col-sm-4 form-group">
          <label  >Serial Number</label>
          <input type="text" class="form-control" placeholder="Enter serial number" name="serialN"
            autocomplete="serialN" required min="4" pattern="^[A-Z][A-Za-z1-9@#$%!&*\s]*[^<>()]*$">
        </div>

        <div class="col-sm-4 form-group">
          <label >Barrel Length</label>
          <input type="text" class="form-control" placeholder="Enter Barrel Length" id="barrel_Length"
            name="barrel_Length" autocomplete="barrel_Length" required min="4" pattern="^[0-9]+$">
        </div>

        <div class="col-sm-4 form-group">
          <label  >Weight</label>
          <input type="text" class="form-control" placeholder="Enter Weight 1kg" name="weight" autocomplete="weight" required
            min="4" pattern="^[0-9]+$">
        </div>

        <div class="col-sm-4 form-group">
          <label  >Round Capacity</label>
          <input type="text" class="form-control" placeholder="Enter Round Capacity" name="roundCapacity" autocomplete="roundCapacity" required
            min="4" pattern="^[0-9]+$">
        </div>

        <div class="col-sm-4 form-group">
          <label  >Cost</label>
          <input type="text" class="form-control" placeholder="Enter cost" name="cost" autocomplete="cost" required
            min="4" pattern="^[0-9]+$">
        </div>

        <div class="col-sm-4 form-group">
          <label for="inputZip">Action</label>
            <select id="status" name="status" class="form-control" required>
              <option value="Choose from this list">.....</option>
              <option value="Semi Automatic">Semi Automatic</option>
              <option value="1 bolt">1 bolt</option>
            </select>
        </div>


        <div class="col-sm-4 form-group">
          <label  >Acquisition date</label>
          <input type="date" class="form-control" name="acquisition">
        </div>

        <div class="col-sm-4 form-group">
          <label  >Turn Over</label>
          <input type="date" class="form-control" placeholder="Turn-Over" name="turnOver" 
           >
        </div>

        <div class="col-sm-4 form-group">
          <label  >Returned</label>
          <input type="date" class="form-control" placeholder="Returned" name="returned">
        </div>

       
</div>

      </div>

      <div class="col-sm-12 form-group mb-4 text-center">
        <button type="submit" id="submitBtn" class="btn btn-primary">Submit</button>
        <button type="reset" class="btn btn-danger">Reset</button>
      </div>

    </form>

  </div>

  <script>
    const validInput = (input) => {
      // Regular expression to allow any characters except <>()*
      const pattern = /^[^<>()*]+$/;
      return pattern.test(input);
    }
  
    document.addEventListener('DOMContentLoaded', function () {
      const form = document.querySelector('form');
  
      form.addEventListener('submit', function (event) {
        // Iterate through each form element
        form.querySelectorAll('input').forEach(function (input) {
          // Apply validation for restricted characters
          if(input.id === "password") return; // Skip password validation
        if(input.id === "usertype") return; // Skip usertype validation
        if (input.id === 'QLFR' && input.value === '') {
                return;
              }
          if (!validInput(input.value)) {
            event.preventDefault(); // Prevent form submission if validation fails
            alert(`Invalid input for ${input.id}. Please avoid using <>()* characters.`);
          }
        });
      });
    });
  </script>
  

</body>

</html>
